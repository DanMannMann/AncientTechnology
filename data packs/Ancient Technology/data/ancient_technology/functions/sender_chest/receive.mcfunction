# this function runs AS the target (receiver in this case) but AT the source (sender in this case)

# grab items from source
data modify storage ancient_technology:sender_chest item_cache set value []
execute if data block ~ ~ ~ Items[{Slot: 0b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:0b}]
execute if data block ~ ~ ~ Items[{Slot: 1b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:1b}]
execute if data block ~ ~ ~ Items[{Slot: 2b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:2b}]
execute if data block ~ ~ ~ Items[{Slot: 3b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:3b}]
execute if data block ~ ~ ~ Items[{Slot: 4b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:4b}]
execute if data block ~ ~ ~ Items[{Slot: 5b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:5b}]
execute if data block ~ ~ ~ Items[{Slot: 6b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:6b}]
execute if data block ~ ~ ~ Items[{Slot: 7b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:7b}]
execute if data block ~ ~ ~ Items[{Slot: 8b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:8b}]
execute if data block ~ ~ ~ Items[{Slot: 9b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:9b}]
execute if data block ~ ~ ~ Items[{Slot: 10b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:10b}]
execute if data block ~ ~ ~ Items[{Slot: 11b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:11b}]
execute if data block ~ ~ ~ Items[{Slot: 12b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:12b}]
execute if data block ~ ~ ~ Items[{Slot: 14b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:14b}]
execute if data block ~ ~ ~ Items[{Slot: 15b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:15b}]
execute if data block ~ ~ ~ Items[{Slot: 16b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:16b}]
execute if data block ~ ~ ~ Items[{Slot: 17b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:17b}]
execute if data block ~ ~ ~ Items[{Slot: 18b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:18b}]
execute if data block ~ ~ ~ Items[{Slot: 19b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:19b}]
execute if data block ~ ~ ~ Items[{Slot: 20b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:20b}]
execute if data block ~ ~ ~ Items[{Slot: 21b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:21b}]
execute if data block ~ ~ ~ Items[{Slot: 22b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:22b}]
execute if data block ~ ~ ~ Items[{Slot: 23b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:23b}]
execute if data block ~ ~ ~ Items[{Slot: 24b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:24b}]
execute if data block ~ ~ ~ Items[{Slot: 25b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:25b}]
execute if data block ~ ~ ~ Items[{Slot: 26b}] run data modify storage ancient_technology:sender_chest item_cache append from block ~ ~ ~ Items[{Slot:26b}]

# remove items from source
execute run data modify block ~ ~ ~ Items set value []

# remove key from destination
execute at @s run data modify block ~ ~ ~ Items set value []

# add items to destination
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 0b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:0b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 1b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:1b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 2b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:2b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 3b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:3b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 4b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:4b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 5b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:5b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 6b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:6b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 7b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:7b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 8b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:8b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 9b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:9b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 10b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:10b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 11b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:11b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 12b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:12b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 14b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:14b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 15b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:15b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 16b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:16b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 17b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:17b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 18b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:18b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 19b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:19b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 20b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:20b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 21b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:21b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 22b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:22b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 23b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:23b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 24b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:24b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 25b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:25b}]
execute at @s if data storage ancient_technology:sender_chest item_cache[{Slot: 26b}] run data modify block ~ ~ ~ Items append from storage ancient_technology:sender_chest item_cache[{Slot:26b}]

tag @s remove sender_rx_checked